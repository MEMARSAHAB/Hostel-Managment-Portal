<%- include('partials/header'); -%>

<%- include('partials/sidenav'); -%>

<div class="start-h2">
    <a href="/user/dashboard"><i class="material-icons back-icon">chevron_left</i></a>
</div>
  
  <div class="container">
    <div class="jumbotron">
  
      <%if(flag==1){%>
        <h3>Edit your current Application for Leave</h3>
        <form action="/user/dashboard/edit/leave/<%=leave._id%>" method="POST">
            <div class="form-group">
              <label>Name:</label><br>
              <input type="text" name="leave[Name]" value="<%=leave.Name%>" readonly required>
            </div>
  
            <div class="form-group">
                <label>Email:</label><br>
                <input type="text" name="leave[Email]" value="<%=leave.Email%>" readonly required>
            </div>
            
            <div class="form-group">
                <label>Leaving Date:</label><br>
                <input type="date" name="leave[Leave]"  value="<%=leave.Leave%>" required>
            </div>
  
            <div class="form-group">
                <label>Returning Date:</label><br>
                <input type="date" name="leave[Return]" value="<%=leave.Return%>" required>
            </div>
  
            <div class="form-group field">
                <label>Reason:</label><br>
                <input type="text" name="leave[Reason]" placeholder="Reason" value="<%=leave.Reason%>"required>
            </div>

            <div class="animate-form">
              <input type="text" name="leave[Reason]" placeholder="Reason" value="<%=leave.Reason%>"required>
              <label>Reason:</label><br>
          </div>
  
            <div class="form-group">
                <br>
                <button class="btn btn-primary ">Submit!</button>
            </div>
              
        </form>
      <%}else if(flag==0){%>
        <h3>Application for New Leave</h3>
        <form action="/user/dashboard/leave" method="POST">
          <div class="form-group">
            <label>Name:</label><br />
            <input
              type="text"
              name="leave[Name]"
              value="<%=currentUser.name%>"
              readonly
            />
          </div>
  
          <div class="form-group">
            <label>Email:</label><br />
            <input
              type="text"
              name="leave[Email]"
              value="<%=currentUser.email%>"
              readonly
            />
          </div>
  
          <div class="form-group">
            <label>Leaving Date:</label><br />
            <input type="text" name="leave[Leave]" class="datepicker">
          </div>
  
          <div class="form-group">
            <label>Returning Date:</label><br />
            <input type="text" name="leave[Return]" class="datepicker">
          </div>

          <div class="inp-animation-container">
            <input
              type="text"
              name="leave[Reason]"
            required/>
            <div class="inp-label"> 
              <span> Reason </span>
            </div>
          </div>
  
          <div class="form-group">
            <br />
            <button class="btn btn-primary " onclick="M.toast({html: 'Application Submitted'})">Submit!</button>
          </div>
        </form>
        <%}%>
  
  
    </div>
  </div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.datepicker');
    var instances = M.Datepicker.init(elems, {format: "dd/mm/yyyy"});
  });
</script>
<%- include('partials/footer'); -%>